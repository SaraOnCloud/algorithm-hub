/* Estilos scoped para la experiencia Knapsack 0/1 */
:host {
  display: block;
}

/* Botones */
.ah-btn {
  @apply inline-flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all select-none
    bg-white/70 dark:bg-slate-800/70 border border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-200
    hover:bg-white dark:hover:bg-slate-800 hover:shadow-sm active:scale-[0.98] focus:outline-none focus:ring-2 focus:ring-cyan-500/40;
}
.ah-btn-primary {
  @apply bg-gradient-to-br from-cyan-500 to-blue-500 text-white border-transparent shadow-sm
    hover:from-cyan-500 hover:to-indigo-500 hover:shadow-md;
}
.ah-btn-soft {
  @apply bg-slate-50/70 dark:bg-slate-900/40 text-slate-700 dark:text-slate-200;
}
.ah-btn-outline {
  @apply bg-transparent text-slate-700 dark:text-slate-200 border-slate-300 dark:border-slate-600 hover:bg-slate-50/60 dark:hover:bg-slate-800/60;
}

/* Inputs */
.ah-input {
  @apply w-full rounded-lg border border-slate-200 dark:border-slate-700 bg-white/80 dark:bg-slate-900/40 px-3 py-2 text-sm
    placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-fuchsia-500/40 transition-shadow;
}

/* Tarjetas suaves para ítems */
.soft-card {
  @apply relative rounded-xl border border-slate-200 dark:border-slate-700 bg-white/80 dark:bg-slate-900/40 p-4 shadow-sm overflow-hidden;
}
.soft-card::after {
  content: "";
  @apply absolute inset-0 pointer-events-none rounded-xl;
  background: radial-gradient(600px 120px at var(--mx, 50%) -10%, rgba(56,189,248,0.15), transparent 70%);
  opacity: 0;
  transition: opacity 300ms ease;
}
.soft-card:hover::after { opacity: 1; }
.soft-card:hover { @apply shadow-md translate-y-[-1px]; }

/* DP Table */
.dp-wrap {
  @apply bg-white/70 dark:bg-slate-800/70 backdrop-blur rounded-xl p-4 border border-slate-200 dark:border-slate-700 shadow-sm;
}
.dp-table {
  @apply w-full table-fixed border-collapse;
}
.dp-table thead th {
  @apply text-xs font-semibold text-slate-500 dark:text-slate-400 px-2 py-2 border-b border-slate-200 dark:border-slate-700;
}
.dp-table tbody th {
  @apply text-xs font-medium text-slate-600 dark:text-slate-300 px-2 py-2 border-b border-slate-100 dark:border-slate-800 whitespace-nowrap;
}
.dp-table .cell {
  @apply relative text-center align-middle px-2 py-1 text-sm border-b border-slate-100 dark:border-slate-800 transition-colors;
  min-width: 40px;
}

/* Estados de celdas */
.cell-empty {
  @apply text-slate-300 dark:text-slate-600 bg-gradient-to-b from-white to-slate-50 dark:from-slate-900 dark:to-slate-900/60;
}
.cell-filled {
  @apply text-slate-800 dark:text-slate-100 bg-white dark:bg-slate-900;
  animation: cell-pop 280ms ease-out both;
}
.cell-current {
  @apply bg-cyan-50 dark:bg-cyan-900/30 text-slate-900 dark:text-white shadow-[inset_0_0_0_1px_rgba(6,182,212,0.35)];
}
.cell-current::after {
  content: "";
  @apply absolute inset-0 rounded-sm pointer-events-none;
  box-shadow: 0 0 0 2px rgba(6,182,212,0.55), 0 0 24px 4px rgba(6,182,212,0.25);
  animation: pulse-glow 1.2s ease-in-out infinite;
}

/* Fórmula pill hover glow */
.dp-wrap .font-mono {
  @apply text-slate-700 dark:text-slate-200;
}
.dp-wrap .font-mono:hover {
  text-shadow: 0 0 12px rgba(139,92,246,0.35);
}

/* Animaciones */
@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 0 2px rgba(6,182,212,0.55), 0 0 16px 2px rgba(6,182,212,0.2); }
  50% { box-shadow: 0 0 0 2px rgba(6,182,212,0.75), 0 0 28px 6px rgba(6,182,212,0.35); }
}
@keyframes cell-pop {
  0% { transform: scale(0.98); opacity: .6; }
  60% { transform: scale(1.02); opacity: 1; }
  100% { transform: scale(1); }
}

/* Mini mejoras de accesibilidad visual */
input[type="range"] {
  accent-color: currentColor;
}

/* Badges de resultado */
[ng-reflect-ng-for-of] .inline-flex.rounded-full:hover {
  @apply ring-2 ring-emerald-400/40;
}

